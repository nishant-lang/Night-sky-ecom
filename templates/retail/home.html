
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ecom</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
 
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
   
</head>
<body style="background-color: rgb(240, 255, 251);position:fixed;" >
 
    <nav class="navbar navbar-expand-lg navbar-light bg-info fixed-top mb-5 " style="font-family: Trirong, serif;">
        <a class="navbar-brand" href="#">Ecom</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Link</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-expanded="false">
                Dropdown
              </a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="#">Action</a>
                <a class="dropdown-item" href="#">Another action</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Something else here</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled">Disabled</a>
            </li>
          </ul>
        </div>
          <div class="nav-item dropdown ">
            <a class="nav-link dropdown-toggle" style="color: aliceblue; font-family: Trirong, serif;font-size: 17px" role="button" data-toggle="dropdown" aria-expanded="false">

            {% if user.is_authenticated %}
              Welcome, {{ user.username }}
            {% else %}
              Welcome, Guest
            {% endif %}
            </a>
            <div class="dropdown-menu" style="font-family: Trirong, serif;">
              <a class="dropdown-item" href="#">Profile</a>
              <a class="dropdown-item" href="#">Settings</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="/userlogout/">Logout</a>
            </div>
          </div>
      </nav>

  <p style="font-family: Trirong, serif; font: size 15px; display: flex; justify-content: flex-end ; position:relative; top:6px; " class="mt-5 mr-1">Current Indian Time: <span id="indianTime"></span></p>

{% if  user.is_retailer %}
<!-- Add Modaal for the addd product form -->
<div class="modal fade" id="addProductModal" tabindex="-1" role="dialog" aria-labelledby="addProductModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addProductModalLabel" style="font-family: Trirong, serif">Add Product</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="font-family: Trirong, serif">
        <form>
          <div class="form-group">
            <label for="productName">Prduct Name:</label>
            <input type="text" class="form-control" id="productName" name="productName" required>
          </div>
          <div class="form-group">
            <label for="productCategory">Category:</label>
            <select class="form-control" id="productCategory" name="productCategory" required>
              <option value="">Select Category</option>
              {%for obj in objs%}
              <option value="cat_{{ obj.id }}">{{obj.category}}</option>
              {%endfor%}
            </select>
          </div>
         
          <div class="form-group">
            <label for="productPrice">Price:</label>
            <input type="number" step="0.01" class="form-control" id="productPrice" name="productPrice" required>
          </div>
          <div class="form-group">
            <label for="productDescription">Description:</label>
            <textarea class="form-control" id="productDescription" name="productDescription" required></textarea>
          </div>
          <div class="form-group">
            <label for="productDateTime">Date and Time:</label>
            <input type="datetime-local" class="form-control" id="productDateTime" name="productDateTime" required>
          </div>
          <button type="submit" class="btn btn-primary">Add Product</button>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- madal end -->
<!-- left side blackbox -->
<div style="background-color: rgb(37, 34, 34); color: white; padding: 20px; position: absolute; left: 0; top: 0; height: 100vh; width: 250px; display: flex; flex-direction: column; justify-content: flex-start; align-items: flex-start; border: 2px solid white; border-radius: 10px; overflow: hidden; " class="mt-5">
  <div style="overflow-y: auto;">
      <h5 style="color: rgba(232, 235, 240, 0.557); font-family: Trirong, serif;">Add Product...</h5>
      <button type="button" class="btn ml-2 my-0" data-toggle="modal" data-target="#addProductModal" style="color: rgba(14, 207, 237, 0.792);">
          <i class="fas fa-plus"></i> Add
      </button>
      <h5 style="color: rgba(232, 235, 240, 0.557); font-family: Trirong, serif;">Update your product...</h5>
      <button type="button" class="btn ml-2 my-0" data-toggle="modal" data-target="#addProductModal" style="color: rgba(14, 207, 237, 0.792);">
          <i class="bi bi-pencil"></i> Edit
      </button>
  </div>
</div>
<!-- Blackbox code End -->
<!-- code  start for filter product -->
<div class=" col-8" style="position:relative;left:250px ;font-family: Trirong">
      <h5 style="color: rgb(18, 17, 18);font-family: Trirong, serif; font-size: 18px;">Filter your product</h5>
      <div class="input-group mb-2">
        <select class="custom-select" id="productFilter">
          <option value="">Select Category</option>
          {%for obj in objs%}
            <option id="product-category" value="cat_{{ obj.id }}">{{ obj.category }}</option>
              {%endfor%}
          </select>
          <div class="input-group-append">
              <button class="btn btn-primary" type="button" onclick="applyFilter()">
                  <i class="bi bi-funnel"></i> Go
              </button>
          </div>
      </div>
  </div>
</div>
<!-- code end for filter -->

<!-- PRODUCT CARDS ARE HERE -->
<div class="col-10" style="position: relative; left: 250px;">
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 " style="max-height: 500px; overflow-y: auto;">
    {% for item in products %}
      <div class="col">
        <div class="card shadow my-2">
          <img class="bd-placeholder-img card-img-top" width="100%" height="225" src="/media/{{ item.product_pic }}" alt="Image" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
          <div class="card-body">
            <p class="card-text" style="font-family: Trirong, serif">{{ item.desc }}</p>
            <p class="card-text mt-0 " style="font-family: Trirong, serif"><b>Price: &#8377;</b>{{ item.price }}</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-outline-secondary mr-1">View</button>
                {% if user.is_retailer %}
                  <button type="button" class="btn btn-outline-warning btn-outline-secondary mx-1">Edit</button>
                {% endif %}
                {% if not user.is_retailer %}
                  <button type="button" class="btn btn-outline-success btn-outline-secondary ml-1">BUY NOW</button>
                {% endif %}
              </div>
              <small class="text-body-secondary" style="font-family: Trirong, serif">{{ item.datetime }}</small>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
{% endif %}

<!-- Add Bootstrap JS and jQuery scripts here -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script> 

 <script>
  function updateClock() {
    const now = new Date();
    const options = { timeZone: 'Asia/Kolkata', hour12: true };
    const timeString = now.toLocaleTimeString('en-US', options);
    document.getElementById('indianTime').textContent = timeString;
  }
  // Update the clock every second
  setInterval(updateClock, 1000);
  </script>

</body>
</html>



 
